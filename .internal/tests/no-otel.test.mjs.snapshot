exports[`no-otel > should put files 1`] = `
[
  "internal-tests-output-no-otel/.editorconfig",
  "internal-tests-output-no-otel/.env",
  "internal-tests-output-no-otel/.env.sample",
  "internal-tests-output-no-otel/.env.test",
  "internal-tests-output-no-otel/.githooks/pre-commit",
  "internal-tests-output-no-otel/.github/actions/setup-db/action.yml",
  "internal-tests-output-no-otel/.github/actions/setup-node/action.yml",
  "internal-tests-output-no-otel/.github/actions/setup-prisma/action.yml",
  "internal-tests-output-no-otel/.github/workflows/ci.yml",
  "internal-tests-output-no-otel/.github/workflows/migration.yml",
  "internal-tests-output-no-otel/.gitignore",
  "internal-tests-output-no-otel/.node-version",
  "internal-tests-output-no-otel/.npmrc",
  "internal-tests-output-no-otel/.vscode/extensions.json",
  "internal-tests-output-no-otel/.vscode/settings.json",
  "internal-tests-output-no-otel/Dockerfile",
  "internal-tests-output-no-otel/README.md",
  "internal-tests-output-no-otel/biome.json",
  "internal-tests-output-no-otel/compose.yml",
  "internal-tests-output-no-otel/lint-staged.config.mjs",
  "internal-tests-output-no-otel/next.config.ts",
  "internal-tests-output-no-otel/package.json",
  "internal-tests-output-no-otel/playwright.config.ts",
  "internal-tests-output-no-otel/pnpm-lock.yaml",
  "internal-tests-output-no-otel/postcss.config.mjs",
  "internal-tests-output-no-otel/prisma/ERD.md",
  "internal-tests-output-no-otel/prisma/migrations/migration_lock.toml",
  "internal-tests-output-no-otel/prisma/schema.prisma",
  "internal-tests-output-no-otel/public/.gitkeep",
  "internal-tests-output-no-otel/renovate.json",
  "internal-tests-output-no-otel/tests/test-db.setup.ts",
  "internal-tests-output-no-otel/tests/vitest.setup.ts",
  "internal-tests-output-no-otel/tsconfig.json",
  "internal-tests-output-no-otel/vitest.config.ts",
  "mocked/migration.sql"
]
`;

exports[`no-otel > should update README.md 1`] = `
[
  "## Setup",
  "",
  "\`\`\`sh",
  "# enable git hooks and corepack",
  "$ npm run setup",
  "# install deps",
  "$ pnpm i",
  "# create \\".env\\" and modifying environment variables",
  "$ cp .env.sample .env",
  "\`\`\`",
  "",
  "## Development",
  "",
  "\`\`\`sh",
  "# start docker compose, migrations(generating the client), and next dev",
  "$ pnpm dev",
  "\`\`\`",
  "",
  "## Database",
  "",
  "\`\`\`sh",
  "# create new migration",
  "$ pnpm db:migrate",
  "# reset the DB",
  "$ pnpm db:reset",
  "# view the database items",
  "$ pnpm db:studio",
  "\`\`\`",
  "",
  "## Test",
  "",
  "Test uses real DB via testcontaiers.",
  "",
  "### Unit Test",
  "",
  "\`\`\`sh",
  "# execute",
  "$ pnpm test",
  "# watch the unit test",
  "$ pnpm test:watch",
  "\`\`\`",
  "",
  "### E2E Test",
  "",
  "\`\`\`sh",
  "# install chrome",
  "$ pnpm exec playwright install chrome",
  "# build using test environments since it needs to change encode/decode functions of next-auth",
  "$ pnpm build:test",
  "# execute",
  "$ pnpm test:e2e",
  "# execute with UI",
  "$ pnpm test:e2e:ui",
  "\`\`\`",
  "",
  "## Production",
  "",
  "\`\`\`sh",
  "$ pnpm db:up",
  "$ pnpm build",
  "$ pnpm start",
  "\`\`\`",
  "",
  "If you set \`POSTGRESQL_URL\` as GitHub secrets, you will be able to execute migration for database on GitHub actions(\`.github/workflows/migration.yml\`).",
  "",
  "## Links",
  "",
  "- [Database ER diagram](/prisma/ERD.md)",
  ""
]
`;

exports[`no-otel > should update compose.yml 1`] = `
[
  "volumes:",
  "  db-data:",
  "",
  "services:",
  "  db:",
  "    image: postgres:17",
  "    ports:",
  "      - \${POSTGRES_PORT:-5432}:5432",
  "    environment:",
  "      - POSTGRES_USER=\${POSTGRES_USER}",
  "      - POSTGRES_PASSWORD=\${POSTGRES_PASSWORD}",
  "      - POSTGRES_DB=\${POSTGRES_DB}",
  ""
]
`;

exports[`no-otel > should update dependencies 1`] = `
{
  "dependencies": [
    "@auth/prisma-adapter",
    "@hookform/resolvers",
    "@prisma/client",
    "clsx",
    "next",
    "next-auth",
    "react",
    "react-dom",
    "react-hook-form",
    "zod"
  ],
  "devDependencies": [
    "@biomejs/biome",
    "@playwright/test",
    "@tailwindcss/postcss",
    "@testing-library/react",
    "@types/node",
    "@types/react",
    "@types/react-dom",
    "@vitejs/plugin-react",
    "dotenv",
    "dotenv-cli",
    "lint-staged",
    "postcss",
    "prettier",
    "prisma",
    "prisma-erd-generator",
    "tailwindcss",
    "testcontainers",
    "typescript",
    "vitest"
  ]
}
`;

exports[`no-otel > should update next.config.ts 1`] = `
[
  "import type { NextConfig } from \\"next\\";",
  "",
  "const nextConfig: NextConfig = {",
  "  images: {",
  "    remotePatterns: [",
  "      {",
  "        protocol: \\"https\\",",
  "        hostname: \\"lh3.googleusercontent.com\\",",
  "      },",
  "    ],",
  "  },",
  "  experimental: {",
  "    authInterrupts: true,",
  "  },",
  "};",
  "",
  "export default nextConfig;",
  ""
]
`;
